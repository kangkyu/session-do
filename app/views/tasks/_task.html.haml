.row
  .col-md-9.col-sm-8.col-xs-7
    %p.text-left
      %strong
        = link_to task_name(task), edit_task_path(task)
      %small
        %code on #{(task.done_at).strftime("%b %d")}
      %span= task.comment
  
  .col-md-3.col-sm-4.col-xs-5
    %p.text-right
      = link_to_daily(task, class:'btn btn-default')
      \ #{link_to icon('check'), clear_task_path(task), class: 'btn btn-default'}
      \ #{link_to icon('trash'), task, method: :delete, class: 'btn btn-danger'}

.progress

  - if task.time_passed_by < 0
    - bar_length = (- task.time_passed_by)
    .progress-bar.progress-bar-warning{"aria-valuemax" => "100", "aria-valuemin" => "0", "aria-valuenow" => bar_length, :role => "progressbar", :style => "width: #{bar_length}%; display: block; float: right;"}
      = "#{distance_of_time_in_words_to_now(task.done_at)} later"

  - else
    - bar_length = task.time_passed_by
    .progress-bar{"aria-valuemax" => "100", "aria-valuemin" => "0", "aria-valuenow" => bar_length, :role => "progressbar", :style => "width: #{bar_length}%; "}
      = "#{time_ago_in_words(task.done_at)} ago"
